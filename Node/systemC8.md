# 第8章 文件系统

## 8.1文件系统概述

定义：文件系统为**用户和操作系统提供存储，检索，共享和保护文件的手段**，以达到**方便用户**，**提高资源利用率**的目的。

### 8.1.1文件

1.文件的定义和分类

​	(1)文件定义

​		文件是在**逻辑上具有完整意义的信息集合**，它有一个名字以供标识，文件名是以字母开头的字母数字串。**文件是由文件系统存储和加工的逻辑部件**。

​	(2)文件的分类

​		按性质和用途分类:

   * 系统文件

   * 程序库文件

   * 用户文件

     ​	按保护级别分类：

     - 执行文件
     - 只读文件
     - 读写文件

### 8.1.2文件系统

**文件系统**是操作系统中**负责管理和存取文件信息的软件机构**，它由**负责文件操作和管理的程序模块**，**所需的数据结构**以及**访问文件的一组操作**所组成。

### 8.1.3 文件的组织

1.文件组织的两种结构

- 逻辑文件

  逻辑文件是从用户角度看到的文件面貌，即用户对信息进行逻辑组织形成的文件结构

- 物理文件

  物理文件是信息在物理存储器上的存储方式，是数据的物理表示和组织。

## 8.2文件的逻辑结构和存取方法

### 8.2.1文件的逻辑结构

文件的**逻辑结构分为两种**：

* **流式文件**

  **无机构的流式文件**是相关的有序字符的集合。

* **记录式文件**

  **记录式文件是一种有结构的文件**。这种文件在逻辑上总被看成一组连续顺序的记录的集合。

### 8.2.2文件的存取方法

存取方法由文件的性质和用户使用文件的情况决定的，分为两类:

* 顺序存取

  指后一次存取总是在前一次存取的基础上进行，所以不必给出具体的存取位置。

* 随机存取

  用户以任意次序请求某个记录。

## 8.3文件的物理结构

文件的物理结构涉及文件存储器上的排布，它描述了一个文件在辅存上的安置，链接和编目的方法。

文件系统组织文件的方法有3种：

* 连续文件

  连续文件结构是由一组分配在磁盘连续区域的物理块组成的。

  特点：

  连续存取时速度较快；文件长度一经固定便不易改变；文件的增加和扩充不易。

* 串联文件

  按顺序由**串联的块组成的**，即文件的信息按存储介质的物理特性存在于若干块中，一**块中可包含一个逻辑记录或多个逻辑记录**，也可以是若干物理块包含一个逻辑记录。

  特点：

  易于对文件进行扩充；指针需要额外的存储空间；适合顺序存取方式，而不适用于随机存取方式。

#### 索引文件

为了克服串联文件不适合随机访问的缺点，构造了不仅能充分利用辅存空间，又能随机地访问文件的任何一部分的索引文件。

索引表的组织方式：

* 直接索引
* 一级间接索引
* 二级间接索引

## 8.4 文件存储空间的管理

文件目录是**记录系统中所有文件的名字及其存放地址的目录表**，表中还包括关于文件的说明信息和控制信息。

为了解决命令冲突以获得更灵活的命名能力，文件系统必须采用二级目录，多级目录结构。在操作系统发展过程中，由于多级目录(树型文件目录)能解决“重名”问题，而且查找效率高，因此这种结构得到了快速的发展。

## 8.5文件目录

## 8.6 共享和安全
